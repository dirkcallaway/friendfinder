<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous">

  <link rel="stylesheet" href="style.css">

  <title>Potter's Friend Finder Survey</title>
</head>

<body>
  <div class="container pt-3 pb-3">
    <h2>Wizarding Questions await!</h2>
    <hr>

    <form>
      <!--Question 1-->
      <h4><strong>Question 1</strong></h4>
      <div class="form-group">
        <label for="q1">What position in Quidditch do you play?</label>
        <select class="form-control col-md-6" id="q1" name="q1">
          <option>1 Keeper</option>
          <option>2 Basher</option>
          <option>3 Chaser</option>
          <option>4 Seeker</option>
          <option>5 I don't play... Too dangerous.</option>
        </select>
      </div>

      <!--Question 2-->
      <h4><strong>Question 2</strong></h4>
      <div class="form-group">
        <label for="q2">Herbology excites me.</label>
        <select class="form-control col-md-6" id="q2" name="q2">
          <option>1 (Hardly)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (Oh yes!)</option>
        </select>
      </div>

      <!--Question 3-->
      <h4><strong>Question 3</strong></h4>
      <div class="form-group">
        <label for="q3">I enjoy mixing potions.</label>
        <select class="form-control col-md-6" id="q3" name="q3">
          <option>1 (Not Likely)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (Very Likely)</option>
        </select>
      </div>

      <!--Question 4-->
      <h4><strong>Question 4</strong></h4>
      <div class="form-group">
        <label for="q4">I frequently make friends with mystical creatures.</label>
        <select class="form-control col-md-6" id="q4" name="q4">
          <option>1 (Never)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (ALL the time)</option>
        </select>
      </div>

      <!--Question 5-->
      <h4><strong>Question 5</strong></h4>
      <div class="form-group">
        <label for="q5">I frequently hear snakes talking.</label>
        <select class="form-control col-md-6" id="q5" name="q5">
          <option>1 (No... Creepy!)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (Yessssss)</option>
        </select>
      </div>

      <!--Question 6-->
      <h4><strong>Question 6</strong></h4>
      <div class="form-group">
        <label for="q6">You dont care what others say about you.</label>
        <select class="form-control col-md-6" id="q6" name="q6">
          <option>1 (What are people syaing!?)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (I never care. I rarely even notice)</option>
        </select>
      </div>

      <!--Question 7-->
      <h4><strong>Question 7</strong></h4>
      <div class="form-group">
        <label for="q7">I'm a loyal friend.</label>
        <select class="form-control col-md-6" id="q7" name="q7">
          <option>1 (Not loyal)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (Loyal to a fault)</option>
        </select>
      </div>

      <!--Question 8-->
      <h4><strong>Question 8</strong></h4>
      <div class="form-group">
        <label for="q8">I'm crafty, and intelligent.</label>
        <select class="form-control col-md-6" id="q8" name="q8">
          <option>1 (Not very)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (Very)</option>
        </select>
      </div>

      <!--Question 9-->
      <h4><strong>Question 9</strong></h4>
      <div class="form-group">
        <label for="q9">I frequently travel by Floo Network.</label>
        <select class="form-control col-md-6" id="q9" name="q9">
          <option>1 (Never!)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (Everyday!)</option>
        </select>
      </div>

      <!--Question 10-->
      <h4><strong>Question 10</strong></h4>
      <div class="form-group">
        <label for="q10">Muggles are people too.</label>
        <select class="form-control col-md-6" id="q10" name="q10">
          <option>1 (Strongly Disagree)</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5 (Strongly Agree)</option>
        </select>
      </div>

      <button type="submit" id="submit" class="btn btn-primary">Submit</button>
    </form>

    <!-- Modal -->
    <div id="results-modal" class="modal fade" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title"><strong>Your Hogwarts Friend Is:</strong></h2>
          </div>
          <div class="modal-body">
            <h2 id="match-name"></h2>
            <img id="match-img" class="img-fluid" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg"
              alt="">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div>
    </div>
  </div>


  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <!-- Optional JavaScript -->
  <script type="text/javascript">
    //Gather user responses on Submit button click
    $("#submit").on("click", function (event) {
      event.preventDefault();
      var userInput = {
        scores: [
          $("#q1").val().trim(),
          $("#q2").val().trim(),
          $("#q3").val().trim(),
          $("#q4").val().trim(),
          $("#q5").val().trim(),
          $("#q6").val().trim(),
          $("#q7").val().trim(),
          $("#q8").val().trim(),
          $("#q9").val().trim(),
          $("#q10").val().trim()
        ]
      };
      console.log("userInput: " + JSON.stringify(userInput));
      //Add user inputs to friendArray
      $.post("/api/friends", userInput)
        .done(function (data) {
          //Set the name and image values of friend match
          $("#match-name").text(data.friendName);
          $("#match-img").attr("src", data.friendPhoto);
          //Pop open the modal dialog with match
          $("#results-modal").modal({
            open: true,
            dismissible: false,
          });
        });
    });
  </script>
</body>

</html>